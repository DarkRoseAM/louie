/*** GENERATED FROM ${info.inputFile} - DO NOT EDIT  ***/

/*
 * ${className}.java
 */
package ${info.packageName};

import com.rhythm.louie.server.Server;
import com.rhythm.louie.ServiceManager;
import com.rhythm.louie.connection.LouieConnection;
import com.rhythm.louie.connection.LouieConnectionFactory;

public class ${className} {
    private ${className}() {}

    public static ${baseName}ServiceClient getClient(LouieConnection connection) {
        return new ${baseName}ServiceClient(connection);
    }

    /**
     * findClient attempts to locate a running instance of the relevant service 
     * on the local deployment or via a router w/in the local network of deployments
     *
     * @return Service Client interface regardless of local or remote
     * @throws Exception 
     */
    public static ${info.serviceClassName} findClient() throws Exception {
        if (ServiceManager.hasService("${info.serviceName}")) {
            return new ${baseName}ServiceFactory().getServiceClient();
        } else if (Server.getRouter() != null) {
            return new ${baseName}RemoteService(LouieConnectionFactory.getConnectionForServer(Server.getRouter()));
        } else {
            throw new Exception("Could not locate an instance of the ${info.serviceName} service");
        }
    }
}
